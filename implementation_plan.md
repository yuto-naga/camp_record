# キャンプログアプリ開発計画書

## 目標
自分が訪れたキャンプ場の記録（日付、費用、場所、感想、写真など）を保存し、行ってみたいリストとしても活用できる個人用Webアプリケーションを開発する。PCおよびスマートフォンから利用可能で、ランニングコストがかからない構成とする。

## ユーザー要件
1. **キャンプ場記録**: 日にち、値段、場所、評価、周辺施設、写真を記録可能。
2. **リスト管理**: 「行った場所」と「行きたい場所」を管理。
3. **マルチデバイス対応**: PC、スマホで操作可能。
4. **低コスト運用**: 無料枠のあるサービスを利用。

## 技術スタック (提案)
- **Frontend Framework**: Next.js 14+ (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS, shadcn/ui (コンポーネントライブラリ)
- **Backend (BaaS)**: Supabase
    - **Database**: PostgreSQL
    - **Auth**: Authentication (User management)
    - **Storage**: Image storage
- **Deployment**: Vercel

## データベース設計 (Supabase)

### `campsites` テーブル
ユーザーごとのキャンプ場データを格納します。

| カラム名 | データ型 | 説明 |
| --- | --- | --- |
| `id` | UUID | プライマリキー |
| `user_id` | UUID | ユーザーID (外部キー) |
| `name` | String | キャンプ場名 |
| `location` | String | 場所・住所 |
| `visited_date` | Date | 訪問日 (NULL可) |
| `price` | Integer | 費用 (NULL可) |
| `rating` | Integer | 評価 1~5 (NULL可) |
| `review` | Text | 感想・メモ |
| `surrounding_facilities` | Text | 周辺施設 |
| `status` | String | 'visited' (行った) / 'wishlist' (行きたい) |
| `image_rules` | String[] | 画像URLの配列 |
| `created_at` | Timestamp | 作成日時 |

※ **RLS (Row Level Security)** を設定し、ユーザーは自分のデータのみ参照・操作可能にします。

## 画面構成案

1.  **ログイン/サインアップ画面**
    - メールアドレス認証 または ソーシャルログイン（Googleなど）
2.  **ダッシュボード (ホーム)**
    - 「行ったリスト」と「行きたいリスト」のタブ切り替え表示
    - 各キャンプ場のカード表示（サムネイル画像、名前、日付、評価）
    - 新規登録ボタン（FABまたはヘッダー）
3.  **詳細画面**
    - キャンプ場の詳細情報表示
    - 写真ギャラリー
    - 編集・削除アクション
4.  **登録・編集画面**
    - 情報入力フォーム
    - 画像アップロード UI (プレビュー機能付き)

## 検証計画

### 自動テスト
- 基本的なレンダリングテスト (Vitest導入を検討)

### 手動検証項目
- [ ] **認証**: サインアップ、ログイン、ログアウトができること。
- [ ] **データ操作**: キャンプ場の追加、編集、削除がデータベースに反映されること。
- [ ] **画像**: 画像をアップロードし、ストレージに保存され、画面に表示されること。
- [ ] **レスポンシブ**: スマホサイズでメニューやグリッドが適切に表示されること。
- [ ] **デプロイ**: Vercel上で本番環境として動作すること。
